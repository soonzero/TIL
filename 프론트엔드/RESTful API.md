# RESTful API

라이징 캠프에서 처음으로 백엔드 파트 개발자 분이랑 협업을 하면서 api 연동을 본격적으로 해봤다.

수업에서 REST에 대해 살짝 공부를 해봤지만, 추상적인 느낌만 알고 얼렁뚱땅 api 연동에만 신경쓰다보니

REST가 정확히 뭔지, RESTful하다는 게 어떤 건지, 누군가가 물어보면 대답하지 못할 것 같아서 정리해본다.

<hr />

### REST(REpresentational State Transfer)

REST는 **자원을 이름(자원의 표현)으로 구분하여 해당 자원의 상태(정보)를 주고 받는 모든 것**을 의미한다고 한다.

- 자원: 해당 소프트웨어가 관리하는 모든 것을 뜻하는 말로 데이터베이스 안에 들어가 있는 데이터 하나하나 등이라고 생각하면 쉽다.

- 상태의 전달: 데이터가 요청되는 시점에서 요청받은 리소스의 상태(정보)를 전달하는 것, 보통 JSON이나 XML 형태를 이용해서 자원의 상태를 전달한다.

REST의 구체적인 개념을 정의하자면, HTTP URL을 통해 자원을 명시하고, HTTP Method(POST, GET, DELETE, PUT)을 통해 해당 자원에 대한 CRUD(CREATE, READ, UPDATE, DELETE) 오퍼레이션을 적용하는 것이라고 할 수 있다.

<hr />

### REST의 구성 요소

    REST는 "자원을 이름(자원의 표현)으로 구분하여 해당 자원의 상태(정보)를 주고 받는 모든 것"을 의미한다고 한다.

여기서 REST의 중요한 세 가지 구성 요소가 모두 나온다.

1. 자원(Resource): URI

   - 모든 자원에는 고유한 ID가 존재하고, 이 자원은 Server에 존재한다.

   - 자원을 구별하는 ID는 HTTP URL로 구분하게 된다. (ex. /members/123)

   - Client는 URI를 이용하여 자원을 지정하고, 해당 자원에 대한 조작을 Server에 요청한다.

2. 행위(Verb): HTTP Method

   - Client는 HTTP Method(POST, GET, DELETE, PUT)를 이용해 지정한 자원에 대한 조작을 요청한다.

3. 표현(Representation of Resource)

   - Client가 Server에 자원에 대한 조작을 요청하면 Server는 이에 대한 적절한 응답(Representation)을 보낸다.

<hr />

### REST의 특징

REST에는 다음과 같이 크게 6가지의 특징이 있다.

1. Uniform (유니폼 인터페이스)

   - Uniform Interface는 URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행하는 아키텍처 스타일을 말한다.

2. Stateless (무상태성)

   - REST는 무상태성을 갖고 있어서 작업을 위한 상태정보를 따로 저장하고 관리하지 않는다. 세션 정보나 쿠키 정보를 별도로 저장하고 관리하지 않기 때문에 API 서버는 들어오는 요청만을 단순하게 처리하면 된다. 때문에 서비스의 자유도는 높아지고 서버에서 불필요한 정보를 관리하지 않아 구현이 단순해진다.

3. Cacheable (캐시 가능)

   - REST는 HTTP라는 기존의 웹 표준을 그대로 사용하기 때문에 웹에서 사용하는 기존의 인프라를 그대로 활용 가능하다. 따라서 HTTP가 가진 캐싱 기능이 적용 가능하다. HTTP 프로토콜 표준에서 사용하는 Last-Modified 태그나 E-Tag를 이요하면 캐싱 구현이 가능하다.

4. Self-descriptiveness (자체 표현 구조)

   - REST는 REST API 메시지만 보고도 이를 쉽게 이해할 수 있는 자체 표현 구조로 되어 있다.

5. Client-Server 구조

   - REST 서버는 API 제공, 클라이언트는 사용자 인증이나 context(세션, 로그인 정보) 등을 직접 관리하는 구조로 각각의 역할이 확실히 구분되기 때문에 클라이언트와 서버에서 개발해야 할 내용이 명확해지고 서로간 의존성이 줄어든다.

6. 계층형 구조

   - REST 서버는 다중 계층을 구성될 수 있으며 보안, 로드 밸런싱, 암호화 계층을 추가해 구조 상에 유연성을 둘 수 있고 Proxy, Gateway 같은 네트워크 기반의 중간 매체를 사용할 수 있게 한다.
